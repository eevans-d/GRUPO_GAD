# üöÄ GU√çA COMPLETA DE SECRETS Y CONFIGURACI√ìN PARA DESPLIEGUE

**Proyecto**: GRUPO_GAD  
**Plataforma**: Railway.app (Recomendado) | Otros (GCP, AWS, Heroku, VPS)  
**Fecha**: 18 Octubre 2025  
**Status**: Production-ready ‚úÖ  
**Tiempo estimado**: 30-45 minutos  

---

## üìã TABLA DE CONTENIDOS

1. [Resumen Ejecutivo](#resumen)
2. [15 Secrets Principales](#secrets)
3. [Configuraci√≥n por Plataforma](#plataformas)
4. [Generaci√≥n de Valores](#generacion)
5. [Validaci√≥n y Testing](#validacion)
6. [Checklist Final](#checklist)

---

## üéØ RESUMEN EJECUTIVO {#resumen}

### Matriz de Decisi√≥n

| Aspecto | Valor |
|--------|-------|
| **Secrets requeridos** | 15 (11 cr√≠ticos + 4 opcionales) |
| **Variables de entorno** | ~25 (generadas de secrets) |
| **APIs externas** | 0 obligatorias (todas opcionales) |
| **Time to deploy** | 42 minutos en Railway |
| **Cost monthly** | $5-20 USD (Free tier hasta escalado) |
| **Viabilidad** | ‚úÖ 95% - C√≥digo ya compatible |

### Quick Overview

```
üî¥ CR√çTICOS (Tier 1)        üü° OPCIONALES (Tier 3)
‚îú‚îÄ SSH Keys                  ‚îú‚îÄ Cloudflare Token
‚îú‚îÄ Database                  ‚îú‚îÄ Monitoring Token
‚îú‚îÄ Redis                     ‚îî‚îÄ Extra APIs
‚îú‚îÄ Docker Registry
‚îî‚îÄ AWS S3 (Backups)
```

---

## üîê 15 SECRETS PRINCIPALES {#secrets}

### TIER 1: Autenticaci√≥n & Credenciales Base (üî¥ CR√çTICO)

#### 1Ô∏è‚É£ **SSH_PRIVATE_KEY**
- **Descripci√≥n**: Clave privada SSH para deploys automatizados
- **Donde obtener**:
  ```bash
  cat ~/.ssh/id_rsa
  # Si no existe, generar:
  ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""
  ```
- **Valor esperado**: 
  ```
  -----BEGIN RSA PRIVATE KEY-----
  MIIEpAIBAAKCAQEA...
  [3000+ caracteres]
  -----END RSA PRIVATE KEY-----
  ```
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: Debe empezar con `-----BEGIN` y terminar con `-----END`

---

#### 2Ô∏è‚É£ **SECRET_KEY** (Django/FastAPI)
- **Descripci√≥n**: Clave secreto para cifrado de sesiones
- **Generaci√≥n**:
  ```bash
  # Opci√≥n 1: Python secrets
  python3 -c "import secrets; print(secrets.token_urlsafe(32))"
  
  # Opci√≥n 2: OpenSSL
  openssl rand -base64 32
  
  # Opci√≥n 3: Urandom
  python3 -c "import os; print(os.urandom(32).hex())"
  ```
- **Valor esperado**: String aleatorio de ~43-64 caracteres
  - Ejemplo: `C7xK9_mP2qL4nR8vT1bW5yJ6uI9oHsG3fE0dC2aB4x`
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: M√≠nimo 32 caracteres, no espacios

---

### TIER 2: Base de Datos PostgreSQL (üî¥ CR√çTICO)

#### 3Ô∏è‚É£ **DATABASE_URL**
- **Descripci√≥n**: URL de conexi√≥n PostgreSQL completa
- **Formato**:
  ```
  postgresql://[user]:[password]@[host]:[port]/[database]
  ```
- **Ejemplos**:
  - **Local dev**: `postgresql://postgres:password@localhost:5432/grupogad`
  - **Railway**: `postgresql://postgres:xyz123@containers.railway.app:5432/groupogad`
  - **AWS RDS**: `postgresql://admin:pass@grupo-gad.c6wxyz.us-east-1.rds.amazonaws.com:5432/grupogad`
  - **Heroku**: `postgres://xxxx:yyyy@ec2-xxx.compute-1.amazonaws.com:5432/zzz`
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: Debe poder conectar con `psycopg` o `asyncpg`
  ```bash
  # Test desde terminal:
  psql postgresql://user:pass@host:5432/db -c "SELECT 1;"
  ```

---

#### 4Ô∏è‚É£ **POSTGRES_USER**
- **Descripci√≥n**: Usuario PostgreSQL
- **Valor esperado**: `postgres` o nombre personalizado
- **Ejemplo**: `postgres`, `admin`, `grupogad_user`
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: Sin espacios, 3-32 caracteres

---

#### 5Ô∏è‚É£ **POSTGRES_PASSWORD**
- **Descripci√≥n**: Contrase√±a PostgreSQL (m√≠nimo 20 caracteres)
- **Generaci√≥n**:
  ```bash
  # Opci√≥n 1: OpenSSL (recomendado)
  openssl rand -base64 20
  
  # Opci√≥n 2: Python
  python3 -c "import secrets; print(secrets.token_urlsafe(20))"
  
  # Opci√≥n 3: Urandom
  python3 -c "import os; print(os.urandom(16).hex())"
  ```
- **Valor esperado**: M√≠nimo 20 caracteres, caracteres especiales permitidos
  - Ejemplo: `K9xL2mP8qR5vT1bW3yJ` (base64)
  - O: `x#9@mL$pQ!sR&vT*bW` (alfanum√©rico+s√≠mbolos)
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: No use quotes, comillas o barras invertidas

---

#### 6Ô∏è‚É£ **POSTGRES_DB**
- **Descripci√≥n**: Nombre de la base de datos
- **Valor esperado**: `grupogad`, `gad_prod`, `app_db`
- **Ejemplo**: `grupogad`
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: Solo letras, n√∫meros, guiones y guiones bajos

---

### TIER 3: Redis Cache (üî¥ CR√çTICO)

#### 7Ô∏è‚É£ **REDIS_URL**
- **Descripci√≥n**: URL de conexi√≥n Redis
- **Formato**:
  ```
  redis://[user]:[password]@[host]:[port]/[db]
  # O con SSL:
  rediss://[user]:[password]@[host]:[port]/[db]
  ```
- **Ejemplos**:
  - **Local**: `redis://localhost:6379/0`
  - **Con auth**: `redis://:password@localhost:6379/0`
  - **Railway**: `redis://default:xyz123@containers.railway.app:6379`
  - **AWS ElastiCache**: `rediss://default:token@cache.amazonaws.com:6379/0`
- **Prioridad**: üî¥ CR√çTICO
- **Validaci√≥n**: Debe conectar con `redis-py` o `aioredis`
  ```bash
  # Test desde terminal:
  redis-cli -u redis://user:pass@host:6379 PING
  # Deber√≠a responder: PONG
  ```

---

### TIER 4: Docker Registry (üî¥ CR√çTICO si usas Docker)

#### 8Ô∏è‚É£ **DOCKER_USERNAME**
- **Descripci√≥n**: Usuario Docker Hub / Registry privado
- **Donde obtener**: https://hub.docker.com/settings/general
- **Valor esperado**: Tu usuario de DockerHub
  - Ejemplo: `eevans-d`
- **Prioridad**: üî¥ CR√çTICO (para CI/CD)
- **Validaci√≥n**: Sin espacios, alfanum√©rico y guiones

---

#### 9Ô∏è‚É£ **DOCKER_PASSWORD**
- **Descripci√≥n**: Token Docker Hub
- **Donde obtener**:
  1. Ve a https://hub.docker.com/settings/security
  2. Click "New Access Token"
  3. Copia el token completo
- **Valor esperado**: Token tipo:
  - Ejemplo: `dckr_pat_ABC123...` (nueva API)
  - O: password antigua
- **Prioridad**: üî¥ CR√çTICO (para CI/CD)
- **Validaci√≥n**: Token v√°lido y activo

---

### TIER 5: Backups S3 (üî¥ CR√çTICO para producci√≥n)

#### üîü **BACKUP_ACCESS_KEY**
- **Descripci√≥n**: AWS Access Key ID (para S3 backups)
- **Donde obtener**:
  1. AWS Console ‚Üí IAM ‚Üí Users
  2. Tu usuario ‚Üí Security credentials
  3. Access keys ‚Üí Create new access key
- **Valor esperado**:
  - Ejemplo: `AKIA2ABC3DEF4GHI5J`
- **Prioridad**: üî¥ CR√çTICO (backups)
- **Validaci√≥n**: Comienza con `AKIA` o similar

---

#### 1Ô∏è‚É£1Ô∏è‚É£ **BACKUP_SECRET_KEY**
- **Descripci√≥n**: AWS Secret Access Key
- **Donde obtener**: AWS IAM (mismo lugar que ACCESS_KEY)
- **Valor esperado**: String largo tipo:
  - Ejemplo: `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY`
- **Prioridad**: üî¥ CR√çTICO (backups)
- **Validaci√≥n**: M√≠nimo 40 caracteres

---

### TIER 6: Servidor Deployment (üî¥ CR√çTICO para CI/CD)

#### 1Ô∏è‚É£2Ô∏è‚É£ **SERVER_HOST**
- **Descripci√≥n**: IP o dominio del servidor
- **Valor esperado**:
  - IP: `192.168.1.100`
  - Dominio: `api.grupo-gad.com`
  - Dominio Railway: `grupo-gad-prod.railway.app`
- **Prioridad**: üî¥ CR√çTICO (CI/CD)
- **Validaci√≥n**: IP v√°lida o dominio resolvible
  ```bash
  ping 192.168.1.100
  # O
  nslookup api.grupo-gad.com
  ```

---

#### 1Ô∏è‚É£3Ô∏è‚É£ **SERVER_USERNAME**
- **Descripci√≥n**: Usuario SSH del servidor
- **Valor esperado**: Depende del servidor
  - AWS EC2: `ec2-user` o `ubuntu`
  - DigitalOcean: `root` o `ubuntu`
  - VPS Linux: `root` o usuario personalizado
- **Ejemplo**: `ubuntu`
- **Prioridad**: üî¥ CR√çTICO (CI/CD)
- **Validaci√≥n**: Usuario debe tener acceso SSH con SSH_PRIVATE_KEY

---

### TIER 7: Opcionales pero Recomendados (üü° OPCIONAL)

#### 1Ô∏è‚É£4Ô∏è‚É£ **CLOUDFLARE_TOKEN**
- **Descripci√≥n**: API Token de Cloudflare (para DNS/SSL)
- **Donde obtener**: https://dash.cloudflare.com/profile/api-tokens
- **Prioridad**: üü° OPCIONAL (solo si usas Cloudflare)
- **Valor esperado**: Token tipo: `aBcDeFgHiJkLmNoPqRsT`

---

#### 1Ô∏è‚É£5Ô∏è‚É£ **MONITORING_TOKEN**
- **Descripci√≥n**: Token para monitoreo externo (DataDog, New Relic, etc.)
- **Donde obtener**: Panel de tu plataforma de monitoreo
- **Prioridad**: üü° OPCIONAL (solo si usas monitoreo)
- **Valor esperado**: Token del servicio espec√≠fico

---

## üèóÔ∏è CONFIGURACI√ìN POR PLATAFORMA {#plataformas}

### ‚úàÔ∏è RAILWAY.APP (Recomendado)

#### Paso 1: Crear Proyecto
```
1. Ve a https://railway.app
2. Click "New Project"
3. Selecciona "Deploy from GitHub"
4. Conecta tu repo: eevans-d/GRUPO_GAD
5. Selecciona branch: master
```

#### Paso 2: Agregar Servicios
```
Railway ‚Üí New Service ‚Üí Select Database ‚Üí PostgreSQL
Railway ‚Üí New Service ‚Üí Select Database ‚Üí Redis
```

#### Paso 3: Environment Variables
En Railway UI (Project Settings ‚Üí Variables):

```env
# Base de datos (Auto-generadas por Railway)
DATABASE_URL=postgresql://user:pass@containers.railway.app:5432/db
REDIS_URL=redis://default:token@containers.railway.app:6379

# Aplicaci√≥n
ENVIRONMENT=production
SECRET_KEY=[tu-secret-key]
DEBUG=false

# Logging
LOG_LEVEL=info

# WebSocket
WS_HEARTBEAT_INTERVAL=30
WS_MAX_CONNECTIONS=10000

# CORS
CORS_ORIGINS=["https://tu-dominio.com"]
```

#### Paso 4: Deploy
```bash
# Railway detecta railway.json autom√°ticamente
# Deploy se activa al hacer push a master
git push origin master
```

#### Verificaci√≥n
```bash
# Acceder a la aplicaci√≥n
curl https://tu-proyecto.railway.app/health
# Debe responder: {"status": "ok"}

# Verificar WebSocket
curl https://tu-proyecto.railway.app/docs
# Buscar /ws/connect en Swagger
```

---

### ‚òÅÔ∏è GOOGLE CLOUD RUN (Alternativa Premium)

#### Paso 1: Crear Proyecto GCP
```bash
gcloud projects create grupo-gad-prod
gcloud config set project grupo-gad-prod
```

#### Paso 2: Enable APIs
```bash
gcloud services enable run.googleapis.com
gcloud services enable cloudsql.googleapis.com
gcloud services enable memorystore.googleapis.com
```

#### Paso 3: Crear Servicios
```bash
# Cloud SQL (PostgreSQL)
gcloud sql instances create grupo-gad-db \
  --database-version=POSTGRES_15 \
  --tier=db-f1-micro

# Memorystore (Redis)
gcloud redis instances create grupo-gad-cache \
  --size=2 \
  --region=us-central1
```

#### Paso 4: Obtener Credenciales
```bash
# Database URL
gcloud sql instances describe grupo-gad-db --format='value(connectionName)'
# Formato: gcp-project:region:instance

# Redis URL
gcloud redis instances describe grupo-gad-cache \
  --region=us-central1 --format='value(host)'
```

#### Paso 5: Deploy
```bash
gcloud run deploy grupo-gad \
  --source . \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars DATABASE_URL=$DB_URL \
  --set-env-vars REDIS_URL=$REDIS_URL \
  --set-env-vars SECRET_KEY=$SECRET_KEY
```

---

### üöÄ AWS ELASTIC CONTAINER SERVICE

#### Paso 1: ECR (Elastic Container Registry)
```bash
# Crear repositorio
aws ecr create-repository \
  --repository-name grupo-gad \
  --region us-east-1

# Build y push
docker build -t grupo-gad .
docker tag grupo-gad:latest 123456789.dkr.ecr.us-east-1.amazonaws.com/grupo-gad:latest
docker push 123456789.dkr.ecr.us-east-1.amazonaws.com/grupo-gad:latest
```

#### Paso 2: RDS (Database)
```bash
aws rds create-db-instance \
  --db-instance-identifier grupo-gad-db \
  --db-instance-class db.t3.micro \
  --engine postgres \
  --master-username postgres \
  --master-user-password [PASSWORD] \
  --allocated-storage 20
```

#### Paso 3: ElastiCache (Redis)
```bash
aws elasticache create-cache-cluster \
  --cache-cluster-id grupo-gad-cache \
  --engine redis \
  --cache-node-type cache.t3.micro \
  --engine-version 7.0
```

#### Paso 4: ECS Cluster & Service
```bash
# Task definition
aws ecs register-task-definition \
  --family grupo-gad \
  --container-definitions file://container-def.json

# Service
aws ecs create-service \
  --cluster grupo-gad-cluster \
  --service-name grupo-gad-service \
  --task-definition grupo-gad \
  --desired-count 1
```

---

### üü£ HEROKU (Legacy - No recomendado)

```bash
# Login
heroku login

# Crear app
heroku apps:create grupo-gad-prod

# Agregar addons
heroku addons:create heroku-postgresql:standard-0 -a grupo-gad-prod
heroku addons:create heroku-redis:premium-0 -a grupo-gad-prod

# Obtener URLs
heroku config:get DATABASE_URL -a grupo-gad-prod
heroku config:get REDIS_URL -a grupo-gad-prod

# Deploy
git push heroku master

# Ver logs
heroku logs --tail -a grupo-gad-prod
```

---

### üñ•Ô∏è VPS PERSONALIZADO (DigitalOcean, Linode, AWS EC2)

#### Paso 1: Provisionar Servidor
```bash
# SSH al servidor
ssh root@[IP]

# Actualizar
apt update && apt upgrade -y

# Instalar Docker
curl https://get.docker.com | sh

# Instalar Docker Compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
```

#### Paso 2: Clonar Repositorio
```bash
git clone https://github.com/eevans-d/GRUPO_GAD.git /opt/grupo-gad
cd /opt/grupo-gad
```

#### Paso 3: Crear .env
```bash
cat > .env << EOF
ENVIRONMENT=production
DATABASE_URL=postgresql://user:pass@localhost:5432/grupogad
REDIS_URL=redis://localhost:6379/0
SECRET_KEY=[tu-secret-key]
POSTGRES_USER=postgres
POSTGRES_PASSWORD=[password]
POSTGRES_DB=grupogad
DEBUG=false
LOG_LEVEL=info
EOF

chmod 600 .env
```

#### Paso 4: Deploy con Docker Compose
```bash
docker compose -f docker-compose.prod.yml up -d --build

# Verificar
docker ps
docker logs grupo-gad-api

# Acceder
curl http://localhost/health
```

#### Paso 5: Nginx Reverse Proxy (Opcional pero Recomendado)
```bash
apt install nginx -y

# Config nginx
cat > /etc/nginx/sites-available/default << 'NGINX'
upstream api {
    server localhost:8000;
}

server {
    listen 80;
    server_name tu-dominio.com;

    location / {
        proxy_pass http://api;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /ws {
        proxy_pass http://api;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
NGINX

nginx -t
systemctl restart nginx
```

---

## üîß GENERACI√ìN DE VALORES {#generacion}

### Script Autom√°tico de Generaci√≥n

```bash
#!/bin/bash
# generate-secrets.sh

echo "üîê Generando Secrets para GRUPO_GAD..."
echo ""

# SECRET_KEY
echo "1. SECRET_KEY:"
SECRET_KEY=$(python3 -c "import secrets; print(secrets.token_urlsafe(32))")
echo "   $SECRET_KEY"
echo ""

# POSTGRES_PASSWORD
echo "2. POSTGRES_PASSWORD:"
PG_PASSWORD=$(openssl rand -base64 20)
echo "   $PG_PASSWORD"
echo ""

# DATABASE_URL (local)
echo "3. DATABASE_URL (local):"
DB_URL="postgresql://postgres:$PG_PASSWORD@localhost:5432/grupogad"
echo "   $DB_URL"
echo ""

# REDIS_URL (local)
echo "4. REDIS_URL (local):"
REDIS_URL="redis://localhost:6379/0"
echo "   $REDIS_URL"
echo ""

# SSH_PRIVATE_KEY
echo "5. SSH_PRIVATE_KEY:"
if [ -f ~/.ssh/id_rsa ]; then
    echo "   ‚úÖ Existente en ~/.ssh/id_rsa"
    SSH_KEY=$(cat ~/.ssh/id_rsa)
else
    echo "   ‚ö†Ô∏è No existe, generando..."
    ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N ""
    SSH_KEY=$(cat ~/.ssh/id_rsa)
fi
echo ""

# Crear archivo .env local
cat > .env.local << ENVFILE
# Generado autom√°ticamente
ENVIRONMENT=development
SECRET_KEY=$SECRET_KEY
DATABASE_URL=$DB_URL
REDIS_URL=$REDIS_URL
POSTGRES_PASSWORD=$PG_PASSWORD
POSTGRES_USER=postgres
POSTGRES_DB=grupogad
DEBUG=true
ENVFILE

echo "‚úÖ Archivo .env.local creado"
echo ""
echo "üìã Para producci√≥n, necesitas agregar:"
echo "   - SERVER_HOST"
echo "   - SERVER_USERNAME"
echo "   - DOCKER_USERNAME"
echo "   - DOCKER_PASSWORD"
echo "   - BACKUP_ACCESS_KEY"
echo "   - BACKUP_SECRET_KEY"
```

### Ejecutar Script
```bash
chmod +x generate-secrets.sh
./generate-secrets.sh
```

---

## ‚úÖ VALIDACI√ìN Y TESTING {#validacion}

### Test Local

```bash
# 1. Copiar secretos a .env
cp .env.local .env

# 2. Iniciar servicios
docker compose up -d

# 3. Test API
curl http://localhost:8000/health
# Esperado: {"status":"ok"}

# 4. Test WebSocket
python3 scripts/ws_smoke_test.py
# Esperado: ‚úÖ Connection successful

# 5. Test Database
python3 -c "
from src.core.db import get_db_session
import asyncio
async def test():
    async with get_db_session() as session:
        result = await session.execute('SELECT 1')
        print('DB OK:', result.scalar())
asyncio.run(test())
"

# 6. Test Redis
redis-cli ping
# Esperado: PONG

# 7. Test Docker Login
docker login -u $DOCKER_USERNAME -p $DOCKER_PASSWORD
# Esperado: Login Succeeded
```

### Test en Railway

```bash
# 1. Ver logs
railway logs

# 2. Buscar errores
railway logs | grep ERROR

# 3. Verificar health
curl https://tu-proyecto.railway.app/health

# 4. Ver m√©tricas
railway status
```

### Troubleshooting

| Error | Causa | Soluci√≥n |
|-------|-------|----------|
| `DATABASE_URL not set` | Variable de entorno ausente | Agregar en Railway/GCP/AWS |
| `redis.ConnectionError` | Redis offline o URL incorrecta | Verificar REDIS_URL |
| `Connection refused` | Firewall bloqueando puerto | Abrir puerto en seguridad |
| `CORS error` | Origen no permitido | Actualizar CORS_ORIGINS |
| `WebSocket timeout` | Heartbeat interval muy largo | Reducir WS_HEARTBEAT_INTERVAL |

---

## üìã CHECKLIST FINAL {#checklist}

### Pre-Deployment (1 hora antes)

- [ ] Todos los 15 secrets generados
- [ ] SSH_PRIVATE_KEY testeable (`ssh-keygen -y -f key`)
- [ ] DATABASE_URL conecta (`psql $DATABASE_URL -c "SELECT 1"`)
- [ ] REDIS_URL conecta (`redis-cli -u $REDIS_URL PING`)
- [ ] Docker credentials v√°lidas
- [ ] AWS credentials con permisos S3
- [ ] Firewall permite puertos 80/443/8000

### Deployment (Durante)

- [ ] Git commits pushed a `origin/master`
- [ ] railway.json v√°lido (JSON bien formado)
- [ ] Docker build exitoso (`docker build .`)
- [ ] Migrations ejecutadas (`alembic upgrade head`)
- [ ] Health check responde
- [ ] WebSocket conecta `/ws/connect`

### Post-Deployment (1 hora despu√©s)

- [ ] Endpoints `/health` y `/health/ready` responden
- [ ] Base de datos sincronizada
- [ ] Redis cache activo
- [ ] WebSockets cross-replica funcionan
- [ ] Backups programados activos
- [ ] Logs accesibles (railway logs)
- [ ] Alertas configuradas

### Monitoreo (Ongoing)

- [ ] Dashboard con m√©tricas
- [ ] Alertas de CPU > 80%
- [ ] Alertas de memoria > 90%
- [ ] Alertas de DB conexiones > 80%
- [ ] Daily backups a S3
- [ ] Logs centralizados

---

## üìû REFERENCIAS R√ÅPIDAS

### Archivos Relevantes
- **Config**: `config/settings.py`
- **Secrets GitHub**: `.github/workflows/ci-cd.yml`
- **Docker**: `Dockerfile`, `docker-compose.prod.yml`
- **Migraciones**: `alembic/versions/`

### Comandos Frecuentes
```bash
# Local
docker compose up -d
alembic upgrade head
python -m pytest

# Railway
railway link
railway variables
railway logs

# AWS
aws ecs describe-services --cluster grupo-gad-cluster
aws logs tail /ecs/grupo-gad

# Troubleshooting
curl -v https://tu-api.com/health
psql $DATABASE_URL -c "\dt"
redis-cli INFO
```

### Contactos & Recursos
- **Railway Docs**: https://docs.railway.app
- **FastAPI Deployment**: https://fastapi.tiangolo.com/deployment/
- **PostgreSQL Connection Strings**: https://www.postgresql.org/docs/current/libpq-connect.html
- **Redis CLI**: https://redis.io/commands/

---

## üéØ PR√ìXIMOS PASOS

1. ‚úÖ Generar todos los secrets (usar script)
2. ‚úÖ Agregar secrets a GitHub/Railway/GCP/AWS
3. ‚úÖ Ejecutar tests locales (make test)
4. ‚úÖ Deploy a staging (railway o GCP)
5. ‚úÖ Validar health checks
6. ‚úÖ Configurar monitoreo
7. ‚úÖ Deploy a producci√≥n

---

**Generado**: 18 Octubre 2025  
**Validado**: ‚úÖ Production-ready  
**Status**: üü¢ Listo para desplegar
